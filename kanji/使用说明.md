# 频率表的统计

汉字使用频率出自以下七个表格：

漢字出現頻度数調査について.pdf 2004-2006年
- 漢字出現頻度表　順位対照表（Ver.1.3）
- **凸**版：人一日大年出本 中子見国言上分
- **朝**日：日年大人国会本 中者一出月時事
- **读**卖：日年大人国会本 中月事出一者時
- web**A**： 日人今大一分出 時事年月行気見
- 凸版**二**： 国人大年地日本 中生政会一民化

漢字のウェブ日本語サイト出現頻度調査.pdf 2013年
- 漢字の日本語ウェブサイト出現頻度順位
- **ウ**： 日人出大一思今 見事分本気時行

令和２年度文化庁委嘱 「日本語教育の参照枠」における 基礎漢字に関する調査研究報告.pdf
- 日本語教材等における漢字出現頻度順
- **教**育：日行人本時学大 生食何月見今会

这七个表按照 教凸朝读A二ウ 的顺序排列，分为四组：教科书一组、凸版两个一组、朝日读卖一组、网络两个一组。在一个字第二组出现时，将它放入下述表格中。

具体为复制进kanji_jyuni.py的`s`中，然后运行即可。

# 顺序表

日人大年国
一出本中時
生見事月会
行今分学上

気者子間手
自思言方合
前発的物来
入業私後場

社地東家円
目長動金何
代新話下部
立高定田回

政内対食体
市実理作同
山力料使女
戦関当民性

好書教明度
小開全店名
先議通最連
画多用約持

取知京化心
屋主感法意
買道朝外楽
成所二現近

北不口水川
保都十相制
安味強聞世
情野売文考

問少期記校
結仕要数車
以変語経三
面資機公題

万調表切続
利島海番土
電美員原加
予報真正形

着無信活院
初権選向品
図第産決受
木界株重集

読引天族男
米運達設党
風親色次和
字氏四込勝

支午進治週
平元解有位
必様府村帰
計組際投点

指交白駅身
能件半早付
験住足広送
在伝五笑然

終写直神別
判特音容流
友父県待空
館得働夜改

転母始彼共
悪務花説古
価商総起線
参町反工落

配葉違基休
応格官置台
検歩九藤論
科質寝協育

歳夫死鮮球
映統井西優
果演済策乗
八確術示首

想試係頭求
愛式毎類認
七止増過六
張放曜漢構

介馬状告団
顔害病返千
収観企可南
常注役歌他

展医飲費光
職供裁両残
建打量園石
声備各消松

護士任局製
右割再願勢
温営研絵良
雨銀証等師

断帯寺習難
室移焼種覚
義太百由側
満区領態福

痛影究税軍
復存授史視
課去遊争派
左客宮限例

率昨居命門
降末洋座州
器阪比談急
鉄戸値速若

夏査念谷号
旅誰殺黒追
素個労挙赤
接規横負額

技単離武失
英提像飛苦
差走警防酒
識細減春象

段熱財火王
施青型婚与
僕佐域申韓
禁路助案答

具紹郎準守
紙振俺障材
察船登姿造
柄江秋算健

冷療布沢森
低君競席省
深独曲宅抜
望系遠賞橋

響撃歴港導
修

# 储存格式

最初始的格式包括csv和以下这种文本，csv以后再规定。

```
// 注释在双斜线后
# 日 // 汉字，以#开头，隔一个空格 半角全角均可
[呉] ニチ// 吴音 南北朝时期 以[开头
日食　にっ　しょく//第一个空格前为词 此后每个汉字对应的假名后空格一次 全角半角均可
日夜　にち　や
日記　にっ　き
日系　にっ　けい
[漢] ジツ// 汉音 隋唐时期 有唐音就再写一个唐音
落日　らく　じつ
//空两个换行符，即\n\n
[訓] ひ　か// 训读
朝日　あさ　ひ
曜日　よう　び
[難読] // 熟字训等
今日　（きょう）// 需要把假名标在若干个字中间时 用括号括起来 全角半角均可 // 暂时不要这样写
明日　（2あす）// 括号内第一个字符如果是数字则表示汉字数 // 暂时不要这样写
明日　あした// 当一行只有一个空格时 默认为这种情况 可以不加括号 // 推荐这样
昨日　きのう.//末尾的点表示强制换行 不然默认8个字一换行 // 还没实现
一昨日　おととい
一日　ついたち
二十日　はつか
晦日　みそか
日向　になた

# 例2 // 在汉字后加数字表示第2页
[例]
生きる　い//当词以假名结尾 只有一个空格时 把假名标在第一个汉字上
美味しい　（2おい）// 因此这种情况必须在括号里加数字
寂しい　さび　　//原理是在末尾补空格
取り返す　と-かえ-//不标假名的可以用横杠代替
取り返す　と　　かえ　//原理是把下换线替换为空格 n个下划线替换为n+1个空格
お土産　　（みやげ）
```

只有一个音可以空写一个“[训]”，这个不会显示出来，我也不知道为啥反正这样能用。

词典中的符号这样解读[参考](https://japanknowledge.com/contents/daijisen/hanrei03.html)：
- 常用字不标记
- 常用汉字但音训表中没有的读音用▽标记
- 非常用字用×标记
- 常用汉字付表内有的熟字训用‐表示
- 没有的用＝表示

难读词要求：常用，常用熟字训，或者是所属字的难读音。

所有字的表格，其会被解析为一个字典，每个字又是一个列表，字的每一页是字典，大致是这样
```py
{
    "日": [{}, {}]
}
```

字的每一页这样存储：（其中每一行可以再分为一个小列表）
```py
{
    "name": "日",
    "left":[
        ("[呉] ニチ",
            [
            "日食/日夜/日記/日系：にっ　しょく/にち　や/にっ　き/にっ　けい",
            "今日/日向：（2きょう）/（2になた）",
            "美味しい/取り返す：（2おい）  /と　　かえ　",
            ""
            ]
        ),
    ],
    "right":[]
}
```

括号里都有数字，一行写一行，空格都补全。

最后处理时生成的字符串为：
```
一

［呉］イチ
一一/第一/一様/一途：いち　いち/だい　いち/いち　よう/いち　ず
［漢］イツ
唯一/一向/一方/一瞬：ゆ　いつ/いっ　こう/いっ　ぽう/いっ　しゅん

［訓］ひと
一つ/一人/一息：ひと　/ひと　り/ひと　いき
［難］
一昨日/一昨年：（3おととい）/（3おととし）
```

# 运行

预览视频：

```
manimgl start.py TextExample
```

如果报错
```
ValueError: operands could not be broadcast together with shapes (24,3) (0,3)
```
需要numpy<=1.24

生成最终视频：

```
conda activate manim
cd G:\Program\PytonTool\kanji
manimgl start.py TextExample --uhd -w
```


渲染视频时 声音采样间隔50ms 阈值-35 缩放到宽1850 位置2600 810 视频不透明度100 混合模式浅色 人物不透明度80 混合模式正常

现在的做法是 写好`raw.md`作为词典 然后运行`manimgl start.py TextExample -w --uhd`导出视频，然后运行`voicevox.py`导出全体音频文件 然后在pr内排好 然后到处音频 运行pyton下的`auto_video.py`自动生成中国兔 继续在pr里 调不透明度80 混合模式浅色 导出

TODO: 自动排布音频 自动检查音频和词典是否合适

现在在开始新计划 用这个database来制作新的文本段
词汇可以从常用词汇表找 排序依据：声母 声 子音 标号
然后根据新表格的要求 做新字


半伴判畔反坂阪板版販飯返班斑般搬盤頒氾犯範凡帆汎番藩翻煩繁慢漫蛮満
旦担胆単弾淡談嘆難丹誕炭探壇貪曇男南覧濫藍欄
干肝刊汗幹甘紺感憾敢勘堪看漢寒韓含岸安案暗
綻展占戦禅山扇善膳繕桟賛産傘散三参惨蚕斬暫残
短端鍛段断団暖乱卵算酸転伝専川船栓軟
官棺管館貫慣観歓喚換缶冠関款寛患緩環幻晩万玩頑完丸湾腕
遍編偏辺変片弁便面麺免勉綿眠典店点殿電天添塡田年念捻粘連錬練廉恋
前煎箋践浅銭仙遷千繊薦漸潜先線鮮羨監鑑艦間簡閑堅賢剣検倹険建健鍵見現兼謙嫌弦舷肩繭件遣憲顕県献限減乾陥鉛
岩眼顔研験言厳咽宴煙炎延沿塩演艶
巻券圏拳権勧絹犬軒懸玄全詮泉腺宣選旋原源願元媛援園猿遠円縁怨員院
分粉紛雰盆噴墳憤奮本奔門根墾懇恨痕肯恩任妊忍認人刃仁








# 常用汉字表的使用说明

我想建立一个日语汉字的数据库，暂时考虑表格数据库和图数据库

对于2136个日语汉字，每个汉字

每一个汉字对应若干音训，对应若干意义
weblio上 有些意义是写在字下的 有些是写在音训下的
jitenon上意义是在字下的 有些会分12

## 2136的备考

常用汉字表下 每个字对应若干音训 每个音训对应若干词
有些音训会对应同巡词 例如　押す　推す 用符号⇔表示
有些音训的某个词会有多音 例如奥義　オウギ　おくギ 会用は...とも表示
有些音训的某个词不读本音 例如 因縁　用は表示
付表中的词 将会出现在所用的所有汉字下 用括号表示

其他的一些备考
县名
缩进一格 表示特别用法或用法狭窄 在音训栏中标明“降一个字的音训”原则上是为了标记该都道府县名而提出的音训的场所，
容易搞混的地方有些词标注了副词和接续词


「京浜」，「京阪」などと使う。
「肝腎」は，「肝心」とも書く。
「把（ハ）」は，前に来る音によって「ワ」，「バ」，「パ」になる。

＊［（付）第２の３【賭】参照］
［餅］＝許容字体，
＊［（付）第２の３参照］

「猟」の字音の転用。
「身上」は，「シンショウ」と「シンジョウ」とで，意味が違う。
多く文語の「亡き」で使う。
「モウ」は，慣用音。
「憂き」は，文語の連体形。

## 文件说明


常用汉字表.pdf 日本教育省的汉字表
从上直接复制 2136.txt
2136_list.txt 经过`create_joyokanjihyo()`格式整理、去除页码标识。
从上直接复制 2136.xlsx 部分字如弁手工处理
运行kanji_dictionary.py 根据爬虫 输出 database.xlsx
手工精调 database2.xlsx
经过若干版本迭代 现在的版本是database5.xlsx

接下来 从jajcw上爬取读音 得到kanji_jajcw.json 手工微调 增加备注
现在的版本是database7.xlsx
保存了json格式

## 精调说明

对于一个汉字，其有多种字形，简繁体，异体字等
每个字形有可能有多个读音，每个读音对应一个小韵 一共有3874个小韵 广韵收字25333 字 反切 小韵 字义

用日语造词对应的汉字的含义的读音 对广韵中相同含义的字
如果没有或者有多个 统一用 用汉语中使用常用的读音
吴汉音对应关系的 汉语部分也写两遍
没有音读的 汉语部分都删掉
同音字用本字 接近本意的字 繁体字 接近日语的字等

遇到的问题如
如“会”今有hui kuai两音 日语读音相同
“劾”推导音有hai he两音 弹劾为he 但日语取了hai 演化为がい
“扩”猜测用了廓的字义 轮廓今天日语写作郭

“擦”字广韵没有



# 总结规律

帮滂h 并汉音h吴音b 明汉音h吴音m
端透t 定汉音t吴音d 泥汉音d吴音n （一四等）
知澈t 澄汉音t吴音d 娘汉音d吴音n （二三等）
精清s 从汉音s吴音z 心s 邪(3)汉音s吴音z （一三四等）
章昌s 常汉音s吴音z 书s 船汉音s吴音z （三等）
庄初s 崇汉音s吴音z 生s （二三等）
见溪k 群(3)汉音k吴音g 疑g
晓k 匣(124)汉音k吴音g 影云(3)以(3)∅
来r 日(3)汉音d 吴音n

果a
麻二汉音a 吴音e 麻三ia
模汉音o 吴音u 鱼汉音io吴音o/io 虞u/iu/iuu

效一ou 效er汉音ou吴音iou 效三效四iou
流一汉音ou吴音u 流三
咸一汉音an吴音on 咸一入ou
咸三开汉音en 吴音on 咸三合汉音an吴音on 咸三开入汉音iou吴音ou 咸三合入汉音ou吴音ou
咸四开en 咸四开入iou

通三
江ou 江入aku

# 附

# 一
[1～4]
2001年·1月·1日·1時·1分　（4にせんいち）　ねん-いち　がつ-（2ついたち）-いち　じ-いっ　ぷん
2002年·2月·2日·2時·2分　（4にせんに）　ねん-に　がつ-（2ふつか）-に　じ-に　ふん
2003年·3月·3日·3時·3分　（4にせんさん）　ねん-さん　がつ-（2みっか）-さん　じ-さん　ぷん
2004年·4月·4日·4時·4分　（4にせんよん）　ねん-し　がつ-（2よっか）-よ　じ-よん　ぷん

[1]

# 二
[5～8]
2005年·5月·5日·5時·5分　（4にせんご）　ねん-ご　がつ-（2いつか）-ご　じ-ご　ふん
2006年·6月·6日·6時·6分　（4にせんろく）　ねん-ろく　がつ-（2むいか）-ろく　じ-ろっ　ぷん
2007年·7月·7日·7時·7分　（4にせんなな）　ねん-しち　がつ-（2なのか）-しち　じ-なな　ふん
2008年·8月·8日·8時·8分　（4にせんはち）　ねん-はち　がつ-（2ようか）-はち　じ-はっ　ぷん

[1]

# 三
[9～12]
2009年·9月·9日·9時·9分　（4にせんきゅう）　ねん-く　がつ-（2ここのか）-く　じ-きゅう　ふん
2010年·10月·10日·10時·10分　（4にせんじゅう）　ねん-（2じゅう）　がつ-（3とおか）-（2じゅう）　じ-（2じゅっ）　ぷん
2011年·11月·11日·11時·11分　（4にせんじゅういち）　ねん-（2じゅういち）　がつ-（2じゅういち）　にち-（2じゅういち）　じ-（2じゅういっ）　ぷん
2012年·12月·12日·12時·12分　（4にせんじゅうに）　ねん-（2じゅうに）　がつ-（2じゅうに）　にち-（2じゅうに）　じ-（2じゅうに）　ふん

[1]

# 四
[14·20·24]
2014年·4月·14日　（4にせんじゅうよん）　ねん-し　がつ-（3じゅうよっか）
2020年·10月·20日　（4にせんにじゅうご）　ねん-（2じゅう）　がつ-（3はつか）
2024年·4月·24日　（4にせんじゅうよん）　ねん-し　がつ-（3じゅうよっか）

[1]